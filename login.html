<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="希杰物流，荣庆物流" />
    <meta name="description" content="荣庆物流-中国智慧物流的领跑者" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
    <link rel="stylesheet" href="https://cdn.bootcss.com/twitter-bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/animate.css/3.7.2/animate.min.css">
    <link rel="stylesheet" href="css/login.min.css">
    <script src="https://cdn.bootcss.com/jquery/3.5.0/jquery.min.js"></script>
    <!--[if lte IE 9]>
        <script src="js/updateBrowser.js"></script>
    <![endif]-->
    <title>荣庆物流-中国智慧物流的领跑者</title>
</head>

<body>
    <!-- 登录模块 开始-->
    <div class="siteMap-wrap">
        <div class="top-bar">
            <a href="index.html">返回官网</a>
        </div>

        <div class="siteMap-bg">
            <div class="login-bg">
                <div class="vip-intro">
                    <div class="inner-con">
                        <h3><img src="images/logo-lnavi.png"></h3>
                        <p>高效、便捷和可扩展是IT系统的支柱。</p>
                        <p>我们建立的信息可视化平台 L-NAVI，旨在满足每一位客户的个性化需求。它提供仓储、运输业务订单跟踪，运作状态、效率分析及质量监控等，有助于提高客户的成本效益所需要的功能。</p>
                        <p>通过L-NAVI，我们可以连接，整合各种渠道，为各方利益相关者创造双赢的局面。</p>
                    </div>
                </div>
                <div class="form-box">
                    <div class="inner-con">
                        <div class="login-logo">
                            <img src="images/logo-trans.png">
                        </div>
                        <div class="login-item">
                            <label class="icon-login icon-user"></label>
                            <input type="text" name="" id="username" placeholder="用户名" value="" class="input">
                        </div>
                        <div class="login-item">
                            <label class="icon-login icon-password"></label>
                            <input type="password" name="" id="pwd" placeholder="密码" value="" class="input">
                        </div>
                        <div class="login-item veri-code-item">
                            <label class="icon-login icon-code"></label>
                            <input type="text" name="" id="veri-code" placeholder="验证码" maxlength="4" value=""
                                class="input">
                            <div class="veri-box">
                                <img id="img" alt="点击更新验证码" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAWCAYAAABXEBvcAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHCSURBVFhH7Zc7jsMgEIb3dLlNLpELpM4lnCYXsJTKTerIdeQmXQ4wiw0b8xhmhoDtjcQvTQOYx8fwg3+gKksVYKYqwExVgJmqADMVBdidL7A72HGDztQ5evawd9pd4Hg3daPuN6duf32ZilQNcLT6meI84OWxuU7C2ntx6uFhWnMiMjAcCFu8Dxpr87i2ZL1MEYDeBr3LoxIAHEMIkTzC9sJ1eDsbZB++80sCDOfIjSEEqMI5SRExHviC5uR2ak/Oz77YgMsB7IP57Q4tNE/zCSqkH5VtXfJGaPGXSHBETJb52UekvA/QAS/2G2zhbeC/fH9rA1TCfM4to3fdP2Y6U63sFkEUHj3S/0ZtABC7aZ1gJh07wnY57zcygKX64a1ASwZQyc/ClIGiHmjbwyeZg0QRgGJbSQAYG1iS5msC5OcjzEAhxASAoZfRD9ZZawL81AMb5ITx2ZwIMOXmtSUBWCxz2E3FAS57ifypMMC5XJLJUoD/7R1oqwDA+Zv5GSM5KvjCkXegCrq/bwU4eZP/ZyN7KmghC0f/RLiFfyHAMsIADvjzipxXBTiHAujYwzsoT90S4KbCAYb/6mNQ1lASIMAvpd930w8YUuIAAAAASUVORK5CYII=">
                            </div>
                        </div>
                        <div class="login-btn">
                            <a href="javascript:void(0)" class="submit-btn" id="btnSubmit">登录</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- copyright -->
        <div class="copyright">
            <div class="inner">
                <div class="txt">
                    <p>
                        <span>荣庆物流版权所有 copyright © 2011 rokin Inc. ALL rights reserved. </span>
                        <a href="http://www.miitbeian.gov.cn/" target="_blank">沪ICP备11048066号</a>
                    </p>
                    <p>沪公网安备 31011402004732号</p>
                </div>
            </div>
        </div>

        <!-- box-bg -->
        <div class="box-bg">
            <!-- 左上角斜线 -->
            <div class="bg-line-item">
                <div class="bg-line-bot-left1 bg-topLeft-1_1"></div>
                <div class="bg-line-bot-left1 bg-topLeft-1_2"></div>
                <div class="bg-line-bot-left1 bg-topLeft-1_3"></div>
                <div class="bg-topLeft-2"></div>
                <div class="bg-topLeft-3"></div>
            </div>
            <!-- 右下角斜线 -->
            <div class="bg-line-item">
                <div class="bg-line-top-right3 bg-bottomRight-1_1"></div>
                <div class="bg-line-top-right3 bg-bottomRight-1_2"></div>
                <div class="bg-line-top-right3 bg-bottomRight-1_3"></div>
                <div class="bg-bottomRight-2"></div>
                <div class="bg-bottomRight-3"></div>
            </div>
        </div>
    </div>
    <!-- 登录模块 结束-->
    <script src="https://cdn.bootcss.com/jquery.nicescroll/3.7.6/jquery.nicescroll.min.js"></script>
    <script src="https://cdn.bootcss.com/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="js/utils.js"></script>
    <script>
        $(function () {
            $('.siteMap-wrap').addClass('on');

            /**
             * 失去焦点 验证
             * 验证用户名 
             * 验证密码
             * 验证验证码
             * 
             * 登录
             * 先验证
             * 验证用户名
             * 验证密码
             * 验证验证码
             * 
             * 成功
             * 存储数据 userID
             */
            var $username = $('#username');
            var $password = $('#pwd');

            $username.on('blur', checkName);
            $password.on('blur', checkPassword);


            function checkName() {
                var boo = true;
                var val = $username.val();

                if (isUserName(val) && val.length) {
                    $username.addClass('has-success').removeClass('has-error');
                } else {
                    $username.addClass('has-error').removeClass('has-success');
                    boo = false;
                }
                return boo;
            }


            function checkPassword() {
                var boo = true;
                var val = $password.val();
                if (isPassword(val) && val.length) {
                    $password.addClass('has-success').removeClass('has-error');
                } else {
                    $password.addClass('has-error').removeClass('has-success');
                    boo = false;
                }
                return boo;
            }


            function sendCode() {
                $.ajax({
                    type: "get",
                    url: "http://www.wukongone.com/imageCheck/getImage",
                    dataType: "jsonp",
                    success: function (response) {
                        console.log(response);
                    }
                });
            }

            // sendCode();

            $('#img').on('click', function () {
                sendCode();
            });


            $('#btnSubmit').on('click', function () {
                if (!checkName()) return false;
                if (!checkPassword()) return false;
                // 18833677198
                // vivam1208

                $.ajax({
                    type: "post",
                    url: "http://www.wukongone.com/webapp/login",
                    data: {
                        account: $username.val(),
                        password: $password.val()
                    },
                    dataType: "json",
                    success: function (response) {
                        // console.log(response);
                        alert(response.message);
                        if (!response.success) return;
                        localStorage.setItem('userId', response.entity.userId);

                        setTimeout(() => {
                            location.href = 'tracking.html';
                        }, 2000);
                    },

                })
            });
        });
    </script>
</body>

</html>